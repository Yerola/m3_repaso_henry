/* 
Es una tienda de libros, tiene un par de libros nada más 
y lleva en el mercado solo este año 2022. 
Solo se han realizado ventas presenciales.
Tenemos un nuevo sistema de promociones que implementar
*/

/* ============================================================================
1. Agregar las relaciones
============================================================================= */
-- Tabla Publicación

-- Tabla Venta


/* ============================================================================
2. Obtener la cantidad de Ventas en los últimos meses (Venta = Cantidad * Precio)
============================================================================= */


-- 2. ¡BONUS TRACK! Saber la cantidad de Ventas Y COSTOS en los últimos meses (Costo = Costo * Cantidad)


/* ============================================================================
3. Encontrar el Empleado que más vendió (y menos) en promedio en los últimos meses
============================================================================= */


/* ============================================================================
4. Encontrar el producto que más se vendió y cual el que menos se vendió
============================================================================= */


-- 4. ¡BONUS TRACK! Encontrar el producto que más se vendió y 
-- cual el que menos se vendió de la categoría 'Revista'


/* ============================================================================
5. Transformar la consulta anterior en un StoreProcedure que reciba como parámetro
   el tipo de Publicación
============================================================================= */



/* ============================================================================
6. Crear una FUNCION que implemente la aplicación de las promociones 
   (recibe producto, cantidad -> retorna id de promoción)
============================================================================= */



/* ============================================================================
7. Crear un Trigger, que utilice la función anterior, para guardar el producto con descuento (si aplica)
   cuando agreguemos una venta
============================================================================= */


/* ============================================================================
8. Crear un TRIGGER que levante un error de SQL cuando queremos crear una venta con valores negativos en la cantidad
============================================================================= */
